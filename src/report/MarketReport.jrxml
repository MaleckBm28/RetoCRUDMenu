<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" 
              name="MarketInventoryReport" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="48265507-658b-4c4f-b673-94c65217823f">
    
    <style name="RowStyle" mode="Opaque" backcolor="#FFFFFF">
        <conditionalStyle>
            <conditionExpression><![CDATA[$V{REPORT_COUNT}%2 == 0]]></conditionExpression>
            <style mode="Opaque" backcolor="#F2F2F2"/>
        </conditionalStyle>
    </style>
    
    <style name="StockStyle" mode="Transparent" forecolor="#009933" isBold="false">
        <conditionalStyle>
            <conditionExpression><![CDATA[$F{STOCK} == 0]]></conditionExpression>
            <style forecolor="#CC0000" isBold="true"/>
        </conditionalStyle>
    </style>

    <queryString>
        <![CDATA[SELECT NAME, PRICE, STOCK, GAME_TYPE FROM PRODUCT ORDER BY GAME_TYPE, NAME]]>
    </queryString>

    <field name="NAME" class="java.lang.String"/>
    <field name="PRICE" class="java.lang.Double"/>
    <field name="STOCK" class="java.lang.Integer"/>
    <field name="GAME_TYPE" class="java.lang.String"/>

    <title>
        <band height="80" splitType="Stretch">
            <rectangle>
                <reportElement x="-20" y="-20" width="595" height="100" backcolor="#003366" uuid="a1b2c3d4-e5f6-4a1b-8c9d-0e1f2a3b4c5d"/>
                <graphicElement>
                    <pen lineWidth="0.0"/>
                </graphicElement>
            </rectangle>
            <staticText>
                <reportElement x="0" y="10" width="555" height="40" forecolor="#FFFFFF" uuid="b2c3d4e5-f6a1-4b2c-9d0e-1f2a3b4c5d6e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="26" isBold="true"/>
                </textElement>
                <text><![CDATA[INFORME DE INVENTARIO]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="50" width="555" height="20" forecolor="#CCCCCC" uuid="c3d4e5f6-a1b2-4c3d-0e1f-2a3b4c5d6e7f"/>
                <textElement textAlignment="Center">
                    <font fontName="Arial" size="12" isItalic="true"/>
                </textElement>
                <text><![CDATA[Listado completo de productos y stock disponible]]></text>
            </staticText>
        </band>
    </title>

    <columnHeader>
        <band height="30" splitType="Stretch">
            <rectangle>
                <reportElement x="0" y="0" width="555" height="30" backcolor="#666666" uuid="d4e5f6a1-b2c3-4d4e-1f2a-3b4c5d6e7f8a"/>
                <graphicElement>
                    <pen lineWidth="0.0"/>
                </graphicElement>
            </rectangle>
            <staticText>
                <reportElement x="10" y="0" width="220" height="30" forecolor="#FFFFFF" uuid="e5f6a1b2-c3d4-4e5f-2a3b-4c5d6e7f8a9b"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[PRODUCTO]]></text>
            </staticText>
            <staticText>
                <reportElement x="230" y="0" width="100" height="30" forecolor="#FFFFFF" uuid="f6a1b2c3-d4e5-4f6a-3b4c-5d6e7f8a9b0c"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[PRECIO (€)]]></text>
            </staticText>
            <staticText>
                <reportElement x="340" y="0" width="80" height="30" forecolor="#FFFFFF" uuid="a1b2c3d4-e5f6-4a7b-8c9d-0e1f2a3b4c5d"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[STOCK]]></text>
            </staticText>
            <staticText>
                <reportElement x="430" y="0" width="115" height="30" forecolor="#FFFFFF" uuid="b2c3d4e5-f6a1-4b8c-9d0e-1f2a3b4c5d6e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[JUEGO]]></text>
            </staticText>
        </band>
    </columnHeader>

    <detail>
        <band height="25" splitType="Stretch">
            <rectangle>
                <reportElement style="RowStyle" x="0" y="0" width="555" height="25" uuid="c3d4e5f6-a1b2-4c9d-0e1f-2a3b4c5d6e7f"/>
                <graphicElement>
                    <pen lineWidth="0.0"/>
                </graphicElement>
            </rectangle>
            
            <textField isStretchWithOverflow="true">
                <reportElement x="10" y="0" width="220" height="25" uuid="d4e5f6a1-b2c3-4d0e-1f2a-3b4c5d6e7f8a"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Arial" size="11"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{NAME}]]></textFieldExpression>
            </textField>
            
            <textField pattern="#,##0.00 ¤">
                <reportElement x="230" y="0" width="100" height="25" uuid="e5f6a1b2-c3d4-4e1f-2a3b-4c5d6e7f8a9b"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Arial" size="11"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{PRICE}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement style="StockStyle" x="340" y="0" width="80" height="25" uuid="f6a1b2c3-d4e5-4f2a-3b4c-5d6e7f8a9b0c"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="11"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{STOCK}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="430" y="0" width="115" height="25" uuid="a1b2c3d4-e5f6-4a3b-8c9d-0e1f2a3b4c5d"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="11"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{GAME_TYPE}]]></textFieldExpression>
            </textField>
            
            <line>
                <reportElement x="0" y="24" width="555" height="1" forecolor="#E0E0E0" uuid="b2c3d4e5-f6a1-4b4c-9d0e-1f2a3b4c5d6e"/>
            </line>
        </band>
    </detail>

    <pageFooter>
        <band height="30" splitType="Stretch">
            <rectangle>
                <reportElement x="0" y="0" width="555" height="30" backcolor="#F2F2F2" uuid="c3d4e5f6-a1b2-4c5d-0e1f-2a3b4c5d6e7f"/>
                <graphicElement>
                    <pen lineWidth="0.0"/>
                </graphicElement>
            </rectangle>
            
            <textField pattern="dd/MM/yyyy HH:mm">
                <reportElement x="10" y="0" width="200" height="30" forecolor="#666666" uuid="d4e5f6a1-b2c3-4d6e-1f2a-3b4c5d6e7f8a"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Arial" size="10" isItalic="true"/>
                </textElement>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="435" y="0" width="80" height="30" forecolor="#666666" uuid="e5f6a1b2-c3d4-4e7f-2a3b-4c5d6e7f8a9b"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Arial" size="10"/>
                </textElement>
                <textFieldExpression><![CDATA["Pág. " + $V{PAGE_NUMBER} + " de"]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report">
                <reportElement x="515" y="0" width="40" height="30" forecolor="#666666" uuid="f6a1b2c3-d4e5-4f8a-3b4c-5d6e7f8a9b0c"/>
                <textElement verticalAlignment="Middle">
                    <font fontName="Arial" size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>